# Requirements Document

## Introduction

Расширение журнальной типографики для MDX-контента в стиле Бюро Горбунова / Ильяхова. В IDS уже есть базовые элементы:
- `aside` — выноски на сером фоне (стили в ids.css)
- `blockquote` — цитаты с увеличенным шрифтом
- `p.loud` — увеличенный текст (2em)
- `p.huge` — очень крупный текст (6em) с обводкой

Цель — добавить недостающие элементы и создать удобные MDX-компоненты:
- **Dialog** — диалоги с репликами (нет в IDS)
- **Remark** — ремарки автора в скобках курсивом (нет в IDS)
- Обёртки для существующих стилей для удобства использования в MDX

## Glossary

- **Выноска (Aside)**: Блок текста на сером фоне — УЖЕ ЕСТЬ в IDS (компонент + стили)
- **Диалог (Dialog)**: Форматированный обмен репликами между участниками — НУЖНО СОЗДАТЬ
- **Ремарка (Remark)**: Примечание автора в скобках курсивом — НУЖНО СОЗДАТЬ
- **Акцент (p.huge)**: Крупный текст с обводкой — УЖЕ ЕСТЬ в IDS (класс)
- **Цитата (blockquote)**: Выделенная цитата — УЖЕ ЕСТЬ в IDS (стили)
- **Лид (p.loud)**: Увеличенный текст — УЖЕ ЕСТЬ в IDS (класс)
- **MDX**: Markdown с поддержкой JSX-компонентов
- **IDS Design System**: Дизайн-система проекта с семантическими токенами

## Requirements

### Requirement 1: Диалоги для живых примеров

**User Story:** Как автор контента, я хочу добавлять диалоги между персонажами, чтобы показывать примеры общения в живом формате.

#### Acceptance Criteria

1. WHEN автор использует компонент Dialog в MDX THEN система SHALL отображать реплики с визуальным разделением (тире в начале)
2. WHEN реплика принадлежит разным участникам THEN система SHALL отображать каждую реплику с новой строки
3. WHEN диалог находится в контексте статьи THEN система SHALL добавлять отступы сверху и снизу
4. WHEN диалог содержит длинные реплики THEN система SHALL корректно переносить текст с сохранением отступа

### Requirement 2: Ремарки автора

**User Story:** Как автор контента, я хочу добавлять примечания и комментарии к диалогам или тексту, чтобы пояснять контекст.

#### Acceptance Criteria

1. WHEN автор использует компонент Remark в MDX THEN система SHALL отображать текст курсивом в скобках
2. WHEN ремарка находится после диалога THEN система SHALL отображать её с уменьшенным отступом
3. WHEN ремарка содержит текст THEN система SHALL автоматически добавлять скобки вокруг текста

### Requirement 3: Расширение выносок типами

**User Story:** Как автор контента, я хочу использовать разные типы выносок, чтобы визуально различать советы, предупреждения и важную информацию.

#### Acceptance Criteria

1. WHEN выноска имеет тип "warning" THEN система SHALL использовать предупреждающий цвет фона (--ids__warning-RGB)
2. WHEN выноска имеет тип "tip" THEN система SHALL использовать акцентный цвет фона (--ids__success-RGB)
3. WHEN выноска не имеет типа THEN система SHALL использовать стандартный серый фон (--ids__surface-RGB)

### Requirement 4: Интеграция с существующей типографикой IDS

**User Story:** Как разработчик, я хочу чтобы новые компоненты использовали существующие стили IDS, чтобы не дублировать код.

#### Acceptance Criteria

1. WHEN компоненты отображаются THEN система SHALL использовать CSS-переменные IDS для цветов и отступов
2. WHEN компоненты используются на мобильных THEN система SHALL адаптировать размеры согласно IDS breakpoints
3. WHEN компоненты используются в тёмной теме THEN система SHALL корректно инвертировать цвета через IDS токены

